<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TuemCamp</title>
  <nav>
    <div class="logo">
      <div class="main">Tuem</div>
      <div class="sub">Camp</div>
    </div>
    <div class="nav-links">
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Region</a></li>
        <li><a href="#">University</a></li>
      </ul>
    </div>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: #f5f6fa;
      overflow: auto;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
      height: 100vh;
    }

    header {
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      color: #333;
      padding: 1rem 0;
      min-height: 3rem;
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items:     #map-container {
      position: relative;
      width: 100%;
      min-height: calc(100vh - 120px);
      background: none;
      border: none;
      border-radius: 0;
      box-shadow: none;
      overflow: auto;
      transition: transform 0.6s ease;
      z-index: 1;
      margin-top: 20px;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    } 0;
      z-inde    object {
      width: 120%;
      min-width: 800px;
      height: auto;
      max-width: none;
      cursor: grab;
      transition: transform 0.3s ease;
    }

    object:active {
      cursor: grabbing;
    }    width: 100%;
      height: 100%;
    }

    /* 
    #info-panel {
      width: 25vw;
      min-width: 250px;
      height: 80vh;
      background: white;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      padding: 1rem;
      overflow-y: auto;
    } */

    .competition {
      display: flex;
      align-items: center;
      gap: 1rem;
      border-bottom: 1px solid #eee;
      padding: 0.5rem 0;
    }

    .competition img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      object-fit: cover;
    }

    /* Province styling - force override SVG inline styles */
    .province-hover-style {
      fill: #e8f4f8 !important;
      stroke: #000 !important;
      stroke-width: 1px !important;
      cursor: pointer !important;
      transition: all 0.3s ease !important;
    }

    .province-hover-style:hover {
      fill: #d4f1f9 !important;
      stroke: #e74c3c !important;
      stroke-width: 3px !important;
      filter: drop-shadow(0 4px 8px rgba(231, 76, 60, 0.4)) !important;
      transform: translateY(-2px) !important;
    }

    #province-tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 14px;
      pointer-events: none;
      z-index: 1000;
      display: none;
      white-space: nowrap;
    }

    #competition-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      overflow: hidden;
      z-index: 2000;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
    }

    #competition-modal.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: all;
    }

    #modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1999;
      display: none;
    }

    #modal-overlay.show {
      display: block;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem;
      border-bottom: 1px solid #eee;
    }

    .modal-header h2 {
      margin: 0;
      color: #333;
    }

    .close-btn {
      width: 36px;
      height: 36px;
      border: none;
      background: #f5f6fa;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #666;
      transition: all 0.3s ease;
      font-weight: bold;
    }

    .close-btn:hover {
      background: #e74c3c;
      color: white;
      transform: rotate(90deg) scale(1.1);
      box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
    }

    .modal-content {
      padding: 1rem;
      overflow-y: auto;
      max-height: calc(80vh - 80px);
    }

    .no-competitions {
      text-align: center;
      padding: 3rem 2rem;
      color: #888;
      background: #f9f9f9;
      border-radius: 12px;
      margin: 1rem 0;
    }

    .no-competitions p {
      margin: 0.5rem 0;
      line-height: 1.6;
    }
    nav{
      display: flex;
      flex-direction: row;
      .nav-links ul{
      display: flex;
      gap: 40px;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      nav {
        padding: 10px 20px;
        flex-direction: column;
        gap: 10px;
      }
      
      .nav-links ul {
        gap: 20px;
        justify-content: center;
      }
      
      header {
        font-size: 1.5rem;
        padding: 0.5rem;
      }
      
      #map-container {
        padding: 10px;
        min-height: calc(100vh - 160px);
      }
      
      object {
        width: 100%;
        min-width: 600px;
      }
      
      #competition-modal {
        width: 95%;
        max-width: none;
      }
    }

    @media (max-width: 480px) {
      .nav-links ul {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
      
      header {
        font-size: 1.2rem;
      }
      
      object {
        min-width: 400px;
      }
      
      .modal-content {
        padding: 0.5rem;
      }
      
      .competition {
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
      }
    }

    /* Zoom controls */
    .zoom-controls {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }

    .zoom-btn {
      width: 50px;
      height: 50px;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .zoom-btn:hover {
      background: white;
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .zoom-btn:active {
      transform: scale(0.95);
    }

    /* Reset button */
    .reset-btn {
      width: 50px;
      height: 50px;
      border: none;
      background: rgba(231, 76, 60, 0.9);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .reset-btn:hover {
      background: #e74c3c;
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
    }
      border: 1px solid black;
    }
    .logo{
      display: flex;
      justify-content: center;
      alig  <section>
    <div id="map-container">
      <object id="thailand-map" type="image/svg+xml" data="Thailand.svg"></object>
      <div id="province-tooltip"></div>
    </div>

    <div class="zoom-controls">
      <button class="zoom-btn" id="zoom-in">+</button>
      <button class="zoom-btn" id="zoom-out">‚àí</button>
      <button class="reset-btn" id="reset-zoom">‚åÇ</button>
    </div>

    <div id="info-panel">

    </div>
  </section>   <div id="map-container">
      <object id="thailand-map" type="image/svg+xml" data="Thailand.svg"></object>
      <div id="province-tooltip"></div>
    </div>

    <div id="info-panel">

    </div>
  </section>
  
  <div id="modal-overlay"></div>
  <div id="competition-modal">
    <div class="modal-header">
      <h2 id="modal-province-name"></h2>
      <button class="close-btn">‚úï</button>
    </div>
    <div class="modal-content" id="modal-competition-list">
    </div>
  </div>

  <script>
    const header = document.getElementById("province-name");
    const tooltip = document.getElementById("province-tooltip");
    const modal = document.getElementById("competition-modal");
    const modalOverlay = document.getElementById("modal-overlay");
    const modalProvinceName = document.getElementById("modal-province-name");
    const modalCompetitionList = document.getElementById("modal-competition-list");
    const closeBtn = document.querySelector(".close-btn");
    const mapObject = document.getElementById("thailand-map");

    const competitionsData = {
      "bangkok": [
        { name: "Bangkok Marathon", date: "15 ‡∏ò.‡∏Ñ. 2025", img: "https://picsum.photos/100?1" },
        { name: "Thailand Game Show", date: "20 ‡∏ò.‡∏Ñ. 2025", img: "https://picsum.photos/100?2" }
      ],
      "chiang_mai": [
        { name: "Chiang Mai Flower Festival", date: "25 ‡∏ò.‡∏Ñ. 2025", img: "https://picsum.photos/100?3" },
        { name: "Lanna Cultural Competition", date: "30 ‡∏ò.‡∏Ñ. 2025", img: "https://picsum.photos/100?4" }
      ],
      "chiang_rai": [
        { name: "Golden Triangle Marathon", date: "5 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?5" },
        { name: "White Temple Art Contest", date: "10 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?6" }
      ],
      "Phuket": [
        { name: "Phuket Triathlon", date: "15 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?5" },
        { name: "Phuket Food Festival", date: "20 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?6" },
        { name: "Phuket Triathlon", date: "15 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?7" },
        { name: "Andaman Sea Festival", date: "20 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?8" }
      ],
      "Krabi": [
        { name: "Krabi Rock Climbing Championship", date: "25 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?9" }
      ],
      "kanchanaburi": [
        { name: "Bridge Over River Kwai Festival", date: "30 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?10" }
      ],
      "chonburi": [
        { name: "Pattaya Music Festival", date: "5 ‡∏Å.‡∏û. 2026", img: "https://picsum.photos/100?11" },
        { name: "Songkran Water Festival", date: "10 ‡∏Å.‡∏û. 2026", img: "https://picsum.photos/100?12" }
      ],
      "Songkhla": [
        { name: "Hat Yai International Marathon", date: "15 ‡∏Å.‡∏û. 2026", img: "https://picsum.photos/100?13" }
      ],
      "sukhothai": [
        { name: "Sukhothai Historical Park Festival", date: "20 ‡∏Å.‡∏û. 2026", img: "https://picsum.photos/100?14" }
      ],
      "Pattani": [
        { name: "Pattani Cultural Festival", date: "25 ‡∏°.‡∏Ñ. 2026", img: "https://picsum.photos/100?7" }],
      "phitsanulok": [
        { name: "Buddha Chinarat Festival", date: "25 ‡∏Å.‡∏û. 2026", img: "https://picsum.photos/100?15" }
      ]
    };

    // Only include provinces that actually exist in the SVG
    const provinceNamesTH = {
      "amnat_charoen": "‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç",
      "Ang_Thong": "‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á",
      "bangkok": "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
      "bueng_kan": "‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨",
      "buriram": "‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå",
      "chachoengsao": "‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤",
      "chai_nat": "‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó",
      "chaiyaphum": "‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥",
      "chanthaburi": "‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ",
      "chiang_mai": "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
      "chiang_rai": "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢",
      "chonburi": "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
      "Chumphon": "‡∏ä‡∏∏‡∏°‡∏û‡∏£",
      "kalasin": "‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå",
      "kamphaeng_phet": "‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£",
      "Kanchanaburi": "‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ",
      "khon_kaen": "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô",
      "Krabi": "‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà",
      "lampang": "‡∏•‡∏≥‡∏õ‡∏≤‡∏á",
      "lamphun": "‡∏•‡∏≥‡∏û‡∏π‡∏ô",
      "loei": "‡πÄ‡∏•‡∏¢",
      "lopburi": "‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ",
      "mae_hong_son": "‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô",
      "maha_sarakham": "‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°",
      "mukdahan": "‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£",
      "nakhon_nayok": "‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å",
      "nakhon_pathom": "‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°",
      "nakhon_phanom": "‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°",
      "nakhon_ratchasima": "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤",
      "nakhon_sawan": "‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå",
      "Nakhon_Si_Thammarat": "‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä",
      "nan": "‡∏ô‡πà‡∏≤‡∏ô",
      "Narathiwat": "‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™",
      "nong_bua_lamphu": "‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π",
      "nong_khai": "‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢",
      "nonthaburi": "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ",
      "Pattani": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "pathum_thani": "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ",
      "phra_nakhon_si_ayutthaya": "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤",
      "Phang_Nga": "‡∏û‡∏±‡∏á‡∏á‡∏≤",
      "Phatthalung": "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á",
      "phayao": "‡∏û‡∏∞‡πÄ‡∏¢‡∏≤",
      "phetchabun": "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå",
      "phetchaburi": "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ",
      "phichit": "‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£",
      "phitsanulok": "‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å",
      "phrae": "‡πÅ‡∏û‡∏£‡πà",
      "Phuket": "‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï",
      "prachinburi": "‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ",
      "Prachuap_Khiri_Khan": "‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå",
      "Ranong": "‡∏£‡∏∞‡∏ô‡∏≠‡∏á",
      "ratchaburi": "‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ",
      "rayong": "‡∏£‡∏∞‡∏¢‡∏≠‡∏á",
      "roi_et": "‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î",
      "sa_kaeo": "‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß",
      "sakon_nakhon": "‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£",
      "Samut_Prakan": "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
      "Samut_Sakhon": "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£",
      "Samut_Songkhram": "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°",
      "saraburi": "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ",
      "Satun": "‡∏™‡∏ï‡∏π‡∏•",
      "sing_buri": "‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ",
      "sisaket": "‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©",
      "Songkhla": "‡∏™‡∏á‡∏Ç‡∏•‡∏≤",
      "sukhothai": "‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢",
      "suphan_buri": "‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ",
      "Surat_Thani": "‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ",
      "surin": "‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå",
      "tak": "‡∏ï‡∏≤‡∏Å",
      "Trang": "‡∏ï‡∏£‡∏±‡∏á",
      "trat": "‡∏ï‡∏£‡∏≤‡∏î",
      "ubon_ratchathani": "‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ",
      "udon_thani": "‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ",
      "uthai_thani": "‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ",
      "uttaradit": "‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå",
    // Add pan and zoom functionality
    let isPanning = false;
    let startX = 0;
    let startY = 0;
    let currentX = 0;
    let currentY = 0;
    let scale = 1;

    const mapContainer = document.getElementById('map-container');

    // Mouse wheel zoom
    mapContainer.addEventListener('wheel', (e) => {
      e.preventDefault();
      const rect = mapObject.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      
      const delta = e.deltaY > 0 ? 0.9 : 1.1;
      scale *= delta;
      scale = Math.max(0.5, Math.min(3, scale)); // Limit zoom between 0.5x and 3x
      
      mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
    });

    // Mouse drag to pan
    mapObject.addEventListener('mousedown', (e) => {
      isPanning = true;
      startX = e.clientX - currentX;
      startY = e.clientY - currentY;
      mapObject.style.cursor = 'grabbing';
    });

    document.addEventListener('mousemove', (e) => {
      if (!isPanning) return;
      e.preventDefault();
      currentX = e.clientX - startX;
      currentY = e.clientY - startY;
      mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
    });

    document.addEventListener('mouseup', () => {
      isPanning = false;
      mapObject.style.cursor = 'grab';
    });

    // Touch support for mobile
    let initialDistance = 0;
    let initialScale = 1;

    mapObject.addEventListener('touchstart', (e) => {
      if (e.touches.length === 1) {
        isPanning = true;
        startX = e.touches[0].clientX - currentX;
        startY = e.touches[0].clientY - currentY;
      } else if (e.touches.length === 2) {
        isPanning = false;
        initialDistance = Math.hypot(
          e.touches[0].clientX - e.touches[1].clientX,
          e.touches[0].clientY - e.touches[1].clientY
        );
        initialScale = scale;
      }
    });

    mapObject.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (e.touches.length === 1 && isPanning) {
        currentX = e.touches[0].clientX - startX;
        currentY = e.touches[0].clientY - startY;
        mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
      } else if (e.touches.length === 2) {
        const distance = Math.hypot(
          e.touches[0].clientX - e.touches[1].clientX,
          e.touches[0].clientY - e.touches[1].clientY
        );
        scale = initialScale * (distance / initialDistance);
        scale = Math.max(0.5, Math.min(3, scale));
        mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
      }
    });

    mapObject.addEventListener('touchend', () => {
      isPanning = false;
    });

    // Zoom control buttons
    const zoomInBtn = document.getElementById('zoom-in');
    const zoomOutBtn = document.getElementById('zoom-out');
    const resetZoomBtn = document.getElementById('reset-zoom');

    zoomInBtn.addEventListener('click', () => {
      scale *= 1.2;
      scale = Math.min(3, scale);
      mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
    });

    zoomOutBtn.addEventListener('click', () => {
      scale *= 0.8;
      scale = Math.max(0.5, scale);
      mapObject.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
    });

    resetZoomBtn.addEventListener('click', () => {
      scale = 1;
      currentX = 0;
      currentY = 0;
      mapObject.style.transform = `translate(0px, 0px) scale(1)`;
    });

    mapObject.addEventListener("load", () => {
      const svgDoc = mapObject.contentDocument;
      const allProvinces = svgDoc.querySelectorAll("path[id], g[id]");
      const allPaths = Array.from(allProvinces);‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô/‡∏Ñ‡πà‡∏≤‡∏¢";
    }

    closeBtn.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", closeModal);

    mapObject.addEventListener("load", () => {
      const svgDoc = mapObject.contentDocument;
      const allProvinces = svgDoc.querySelectorAll("path[id], g[id]");
      const allPaths = Array.from(allProvinces);

      // Filter only province paths (exclude other elements like gradients, clips, etc.)
      const validProvinceIds = Object.keys(provinceNamesTH);

      allProvinces.forEach(prov => {
        // Only process paths that are actual provinces
        if (validProvinceIds.includes(prov.id)) {
          // Force override inline SVG styles
          prov.style.fill = "#e8f4f8";
          prov.style.stroke = "#000";
          prov.style.strokeWidth = "1px";
          prov.style.cursor = "pointer";
          prov.style.transition = "all 0.3s ease";

          // Apply province styling class
          prov.classList.add("province-hover-style");

          prov.addEventListener("mouseenter", (e) => {
            const provinceName = provinceNamesTH[prov.id];
            tooltip.textContent = provinceName;
            tooltip.style.display = "block";
            header.textContent = provinceName;

            // Force hover styles
            prov.style.fill = "#d4f1f9";
            prov.style.stroke = "#e74c3c";
            prov.style.strokeWidth = "3px";
            prov.style.filter = "drop-shadow(0 4px 8px rgba(231, 76, 60, 0.4))";
            prov.style.transform = "translateY(-2px)";
          });

          prov.addEventListener("mousemove", (e) => {
            const rect = mapObject.getBoundingClientRect();
            tooltip.style.left = (e.clientX - rect.left + 15) + "px";
            tooltip.style.top = (e.clientY - rect.top + 15) + "px";
          });

          prov.addEventListener("mouseleave", () => {
            tooltip.style.display = "none";
            if (!modal.classList.contains("show")) {
              header.textContent = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô/‡∏Ñ‡πà‡∏≤‡∏¢";
            }

            // Reset to normal styles
            prov.style.fill = "#e8f4f8";
            prov.style.stroke = "#000";
            prov.style.strokeWidth = "1px";
            prov.style.filter = "none";
            prov.style.transform = "none";
          });

          prov.addEventListener("click", (e) => {
            e.stopPropagation();
            const provinceName = provinceNamesTH[prov.id];
            modalProvinceName.textContent = provinceName;
            header.textContent = provinceName;

            const data = competitionsData[prov.id];
            if (data && data.length > 0) {
              modalCompetitionList.innerHTML = data.map(item => `
                <div class="competition">
                  <img src="${item.img}" alt="${item.name}">
                  <div>
                    <div><strong>${item.name}</strong></div>
                    <div style="color: #666; font-size: 0.9rem;">${item.date}</div>
                  </div>
                </div>
              `).join("");
            } else {
              modalCompetitionList.innerHTML = `
                <div class="no-competitions">
                  <div style="font-size: 48px; margin-bottom: 1rem;">üìÖ</div>
                  <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏µ‡πâ</p>
                  <p style="color: #666; font-size: 0.9rem;">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</p>
                </div>
              `;
            }

            modal.classList.add("show");
            modalOverlay.classList.add("show");
          });
        } else {
          // For non-province paths, apply neutral styling
          prov.style.fill = "#f0f0f0";
          prov.style.stroke = "#ddd";
          prov.style.strokeWidth = "0.5px";
          prov.style.pointerEvents = "none";
        }
      });
    });
  </script>
</body>

</html>